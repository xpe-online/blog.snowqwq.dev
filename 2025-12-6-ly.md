# ly - 替代tty默认登录界面的极简显示管理器

![Screenshot](https://codeberg.org/fairyglade/ly/media/branch/master/.github/screenshot.png)

## Intro

> 显示管理器这么多，为什么不用SDDM之类的呢？

自从重装Arch后就从Plasma切换到了Hyprland，由于Hyprwiki没有指明推荐使用什么登录管理器，所以也就习惯了默认的tty登录界面

直到前段时间在b站发现了这个叫[ly](https://codeberg.org/fairyglade/ly)的软件包

> [ly,一个十分简洁的显示管理器&登录管理器](https://www.bilibili.com/video/BV1bJUdBoEjX)

发现它是跑在tty的CLI而不是GUI上的，而且有进tty而不是窗口管理器的选项(shell)，所以就用上了

## Installation

```sh
sudo pacman -S ly
```

## Usage

只需要启动服务就行，由于ly运行在一个tty上，需要禁用掉对应的tty服务（可以理解为ly覆盖了默认的getty服务？）

```sh
systemctl enable ly.service
systemctl disable getty@tty2.service
```

默认ly运行tty2，可以修改服务单元变成tty1，也可以把ly的服务单元改成模板，再用ly@ttyN.service启用多个ly服务

```ini
# /usr/lib/systemd/system/ly.service
[Unit]
Description=TUI display manager
After=systemd-user-sessions.service plymouth-quit-wait.service
After=getty@tty1.service
Conflicts=getty@tty1.service

[Service]
Type=idle
ExecStart=/usr/bin/ly-dm
StandardInput=tty
TTYPath=/dev/tty1
TTYReset=yes
TTYVHangup=yes

[Install]
Alias=display-manager.service
```

需要禁用掉对应的getty服务

```sh
systemctl disable getty@tty2
```

## Configuration

配置文件默认在`/etc/ly/config.ini`，全部都有注释

```ini
# 列一些我改过的配置项
# 
# ly 是支持 24-bit 真彩的，可以改成自己喜欢的配色了，但是也仅限于在终端模拟器里用，因为 tty 还是没有 true colors 的

# Change the state and language of the big clock
# none -> Disabled (default)
# en   -> English
# fa   -> Farsi
# 大时钟
bigclock = en

# Set bigclock to show the seconds.
bigclock_seconds = true

# Title to show at the top of the main box
# If set to null, none will be shown
# hostname 默认已经会显示了，所以这个就不改成 hostname 了
box_title = Arch Linux x86_64

```

## Additions

ly于1.3.0更新了服务模板单元，ly应通过以下方式启用

```bash
systemctl enable ly@tty1.service
```